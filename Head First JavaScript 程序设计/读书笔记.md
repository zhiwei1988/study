## Misc

### undefined

对于任何还没有值（即还未初始化）的东西，都会将 undefined 赋给它。

在应该提供一个对象，但无法创建或找到找到时，将提供null；在变量未初始化、对象没有指定属性或数值没有指定元素时，将返回 undefined。

### null

null 表示对象不存在；typeof null 输出 object。

### NaN

JavaScript 使用NaN来表示它无法表示的数值结果；它还是JavaScript中唯一一个与自己不相等的值。

检查变量是否为NaN，只能通过函数 isNaN，因为它与任何值都不相等。

```javascript
if (isNaN(myNum)) {
  myNum = 0;
}
```

NaN 的类型是 number “无法表示的数字”；Infinity 表示任何超过浮点上限或下限的数值。

### 字符串

在JavaScript中，可创建作为基本类型的字符串，也可以创建作为对象的字符串。大多数情况下，解释器会在需要时替你创建字符串对象。

### 表达式

字符串表达式
布尔表达式
数字表达式

### 全局变量和局部变量

全局变量的寿命与网页一样长，在重新加载网页时，将销毁并重新创建所有的全局变量。

局部变量通常在函数结束时消失。

使用未声明的变量时，它将自动被视为全局变量，即便你在函数中首次使用它亦如此。

局部变量与全局变量同名时，它将“遮住”全局变量。

### 检查变量类型

typeof 是一个内置的运算符，它使用字符串来表示类型；如："string","boolean","number","object", “undefined"。

### 数组

确定数组长度： var numFlavors = flavors.length

一个数组中所有值的类型可以是不同，但一般不建议这么做。

访问无效的数组下标时，将返回 undefined。

**添加元素**

```javascript
var genres = [];
genres.push("zhiwei");
```

创建简单数组时，使用数组字面量语法效果很好；但创建要等到运行阶段才能确定长度的数组时，使用构造函数 Array 更合适。

### 元素特性

planet.setAttribute("class", "redtext");

可对任何元素调用setAttribute来修改特性的值；如果指定的特性不存在，将在元素中添加它。

getAttribute 如果指定的特性不存在，将返回null。

## 函数

定义函数的方式有两种：使用函数声明和使用函数表达式。

函数声明在执行代码前处理；函数表达式在运行阶段随其他代码一起执行。

处理函数声明时，浏览器创建一个函数以及一个与函数同名的变量，并将指向函数的引用存储到变量中。

处理函数表达式时，浏览器创建一个函数，但你必须显式地处理指向这个函数的引用。

函数的引用值是**一等值**。

### 函数参数

JavaScript 按值传递实参。

传入实参的个数大于形参的个数，多余的实参会被忽略。

传入实参的个数小于形参的个数，未传入实参的形参值为 undefined。

### 函数返回值

没有 return 语句，函数将返回 undefined。

### 函数声明

浏览器会分两遍读取网页：第一遍读取所有函数定义，第二遍开始执行代码。因此可以将函数声明放在 JavaScript 文件的任何地方。

### 闭包

闭包指的是函数和引用环境

如果函数使用了自由变量，则每当你在创建该函数的上下文外面执行它时，都将创建一个闭包。

闭包包含的是实际环境，而非环境副本。

自由变量：不是在当前作用域和全局作用域中声明的变量。

## 对象

### 使用对象字面量创建

对象字面量是 Object 的实例。

```javascript
var widget = {
  cost: 3.14,
  "on sale": true
};
```

属性名可以是任何字符串，将包含空格的字符串用作属性名时，必须用引号将其括起。

可以随时扩展对象，给他们添加新属性。

可以随时删除属性： delete fido.dogYears;

delete 成功返回 true，失败返回 false；如果对象属于浏览器而受到保护，delete会返回失败。即便要删除的属性在对象中不存在，delete 也会返回 true；

变量并不存储实际的对象，而是存储指向对象的引用。

可以将 this 视为一个变量，指向其方法被调用的对象。this 值是在你调用方法而非定义对象时设置的。

### 使用构造函数

`var fido = new Dog("Fido", "Mixed", 38);`

构造函数的工作原理：

1. new 首先创建一个新的对象
2. 接下来，new 设置 this，使其指向这个新对象
3. 设置 this 后，调用 Dog，并将实参传递给它
4. 执行函数为新创建的 this 对象的属性赋值
5. 函数执行完毕后，运算符 new 返回 this

> 创建一次性的简单对象时，对象字面量的方式更简洁、更具表达力。

### 遍历对象属性

for (var prop in chevy) {
   console.log(prop + ": " + chevy[prop]);
}

## 运算符

### 理解 `==` 运算符

在进行比较时，运算符 == 会考虑其操作数的类型：

- 如果两个值的类型相同，就直接进行比较；
- 如果两个值的类型不同，则尝试将它们转换为相同的类型，进行比较。

1. 比较数字和字符串时，会尝试将字符串转换为数字；
2. 比较布尔值和其他类型，将布尔值转换为数字；
3. 比较 null 和 undefined，比较结果为 true。

其它条件运算符如： <=, <, >=, > 等都会进行上述转换。

### 严格相等 `===` 运算符

当且仅当两个值得类型和值都相同时，它们才严格相等。

### 拼接和加法运算符

将数字和字符串相加时，回将数字转换成字符串。**使用其他运算符时会将字符串转换成数字**。

### 理解真值和假值

知道哪些值是假值后，就可将其他值视为真值。假值：undefined，null，0，空字符串，NaN。

## 关键字 this

### 用法

每当方法被调用时，在该方法体内都可使用 this 来引用方法被调用的对象。

### 用于构造函数中

调用构造函数创建对象时，this 被设置为一个引用，指向由运算符 new 创建的新对象。对象被创建后，当你对其调用方法时，this 被设置为方法被调用的对象。

### 原型和 this

调用对象的方法时，this 被设置为方法被调用的对象。即便在该对象中没找到调用的方法，而是在原型中找到了，也不会修改 this 的值。任何情况下，**this 都指向原始对象**，即方法被调用的对象。